{% extends "tracker/base.html" %}

{% block title %}API Chart Demo{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <h1>API chart demo week 10</h1>
        <p class="text-muted">This chart generates from server side using data from my JSON API</p>
    </div>
</div>
<div class="row mb-4">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <h5>Spending by category</h5>
            </div>
            <div class="card-body">
                <img src="{% url 'api_transaction_chart' %}"
                     alt="Transaction Chart"
                     class="img-fluid">
                <p class="text-muted mt-3">
                    <small>
                        Data flow: JSON API → Chart View → PNG Image
                    </small>
                </p>
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="card">
            <div class="card-header">
                <h5>API Endpoints</h5>
            </div>
            <div class="card-body">
                <p>Endpoints in my browser:</p>
                <ul class="list-unstyled">
                    <li class="mb-2">
                        <a href="{% url 'api_transaction_summary' %}" target="_blank">
                            Transaction summary
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="{% url 'api_transactions_by_category' %}" target="_blank">
                            Transactions by category
                        </a>
                    </li>
                </ul>

                <hr>

                <p class="mt-3">Comparing response types:</p>
                <ul class="list-unstyled">
                    <li class="mb-2">
                        <a href="{% url 'demo_text' %}" target="_blank">
                            Plain Text (HttpResponse)
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="{% url 'demo_json' %}" target="_blank">
                            JSON (JsonResponse)
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}